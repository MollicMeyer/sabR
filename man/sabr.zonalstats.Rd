% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sabr.zonalstats.R
\name{sabr.zonalstats}
\alias{sabr.zonalstats}
\title{Zonal Statistics for SABR Raster Stacks}
\usage{
sabr.zonalstats(
  raster_path = maps_dir,
  tdepth = 0,
  bdepth = 20,
  props = c("sand", "clay"),
  shapes = plots,
  plots = c("NW_plot", "SW_plot"),
  stats = c("mean", "min", "max", "sd"),
  output_dir = output_dir,
  PSDnormalize = TRUE,
  MakePlot = TRUE,
  wtd.mean = TRUE
)
}
\arguments{
\item{raster_path}{Character. Path to the directory containing raster subfolders.}

\item{tdepth}{Numeric. Top depth of interest in cm.}

\item{bdepth}{Numeric. Bottom depth of interest in cm.}

\item{props}{Character vector of soil property names to include.}

\item{shapes}{\code{sf} or \code{SpatVector} polygon object with plot geometry. Must include a \code{Name} field.}

\item{plots}{Character vector of plot IDs matching \code{shapes$Name}.}

\item{stats}{Character vector of statistics to compute (e.g., \code{"mean"}, \code{"sd"}, \code{"min"}, \code{"max"}).}

\item{output_dir}{Output folder for CSV results.}

\item{PSDnormalize}{Logical. If \code{TRUE}, use normalized PSD layers for sand/silt/clay.}

\item{MakePlot}{Logical. If \code{TRUE}, plots raster + overlay for each polygon.}

\item{wtd.mean}{Logical. If \code{TRUE}, computes depth-weighted summary across horizons.}
}
\value{
A list with:
\itemize{
\item{Unweighted: Data frame of raw zonal statistics for all raster layers.}
\item{Weighted: (if wtd.mean = TRUE) Depth-weighted summary statistics.}
}
}
\description{
Computes polygon-wise summary statistics for SABR-formatted raster data, including optional depth weighting.
}
