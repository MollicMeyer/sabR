% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sabR_depth.R
\name{sabR_depth}
\alias{sabR_depth}
\title{Plot Grouped Soil Depth Functions from a SoilProfileCollection}
\usage{
sabR_depth(
  spc,
  variables = c("sand", "clay", "TOC", "pH"),
  slab_structure = c(0, 20, 40, 60),
  group_id = NULL,
  stat = "mean_sd",
  intervals = c(5, 95)
)
}
\arguments{
\item{spc}{A \code{SoilProfileCollection} object.}

\item{variables}{Character vector of soil property names to plot (must match horizon names).}

\item{slab_structure}{Numeric vector of depth breaks to use for aggregation (e.g., \code{c(0, 20, 40, 60)}).}

\item{group_id}{Optional character name of the grouping column in \code{site(spc)} (e.g., \code{"plot"} or \code{"source"}). If \code{NULL}, all profiles are treated as one group.}

\item{stat}{Character; statistical summary type. One of:
\itemize{
\item \code{"mean_sd"}: mean ± standard deviation,
\item \code{"med_sd"}: median ± standard deviation,
\item \code{"med_qr"}: median ± interquartile range (25th–75th),
\item \code{"med_pr"}: median ± percentiles (set via \code{intervals}).
}}

\item{intervals}{Numeric vector of length 2; used when \code{stat = "med_pr"} or \code{"med_qr"} to set quantile boundaries (e.g., \code{c(0.1, 0.9)} or \code{c(0.25, 0.75)}).}
}
\value{
A \code{lattice} plot object (multi-panel depth function plot).
}
\description{
Creates grouped depth function plots for selected soil properties using slab summaries.
Allows plotting of means ± SD, medians ± IQR, or medians ± percentiles by group.
}
\details{
\itemize{
\item Grouping variable (\code{group_id}) must be a factor. If not, it will be coerced.
\item Limited to 8 groups for color palette compatibility.
\item Internally uses \code{aqp::slab()} and \code{lattice::xyplot()}.
}
}
\examples{
\dontrun{
sabR_depth(
  spc = pts_spc_groupcol,
  variables = c("sand", "clay", "TOC", "pH"),
  slab_structure = c(0, 20, 40, 60),
  group_id = "group",
  stat = "med_pr",
  intervals = c(0.1, 0.9)
)
}

}
