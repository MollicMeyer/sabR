% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sabRzs_to_spc.R
\name{sabRzs_to_spc}
\alias{sabRzs_to_spc}
\title{Convert Zonal Statistics from Polygons to SoilProfileCollection}
\usage{
sabRzs_to_spc(
  stack = sabr$stack,
  aoi = NULL,
  zones = NULL,
  id_column = "Name",
  props = c("sand", "clay"),
  depths = c("0-5", "5-15"),
  new_depths = c(0, 15, 30),
  stats = c("mean", "sd"),
  source = "SABR"
)
}
\arguments{
\item{stack}{SpatRaster; raster stack (e.g., from \code{fetch_sabR()}).}

\item{aoi}{Character path, sf object, SpatVector, or SpatRaster; area of interest (polygon zones or raster extent).}

\item{zones}{Character vector; values from \code{id_column} to extract (e.g., \code{"Zone1"}, \code{"Zone2"}).}

\item{id_column}{Character; column name in \code{aoi} used to identify zones (e.g., \code{"Name"}).}

\item{props}{Character vector; soil properties to include.}

\item{depths}{Character vector; raster depth intervals to include. Must be a subset of:
\code{"0-5"}, \code{"5-15"}, \code{"15-30"}, \code{"30-60"}, \code{"60-100"}, \code{"100-150"}, \code{"150-200"}.}

\item{new_depths}{Numeric vector; standard depths to aggregate to.}

\item{stats}{Character vector; statistics to compute (\code{"mean"}, \code{"sd"}, etc.).}

\item{source}{Character; prefix for profile IDs (e.g., \code{"SABR"}).}
}
\value{
A named list of \code{SoilProfileCollection}s, one for each statistic requested.
}
\description{
Computes zonal summary statistics from raster stack over polygons and converts them to an \code{aqp::SoilProfileCollection}.
}
\details{
Raster layers are aggregated within each zone using specified statistics, then converted to profiles.
Profiles are sliced into 1 cm intervals and aggregated to \code{new_depths}.
}
